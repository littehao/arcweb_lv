{"version":3,"file":"16.07f2c2f88f60483874fb.js","sources":["pages/contactus/index.vue"],"sourcesContent":["<template>\n    <div class=\"contactus\">\n        <Container>\n          <div class=\"contactus-content\">\n            <h1 class=\"form-title animated fadeInUp\">{{$t('contactus.title')}}</h1>\n            <p class=\"form-info animated fadeInUp\">{{$t('contactus.intro')}}</p>\n            <div class=\"form animated bounceIn\">\n              <Form :model=\"formTop\" label-position=\"top\">\n                <FormItem >\n                  <p name=\"label\" class=\"form-item-label\">{{$t('contactus.name')}}<span class=\"form-item-required\">*</span></p>\n                  <Input v-model=\"formTop.name\" type=\"text\"></Input>\n                </FormItem>\n                <FormItem >\n                  <p name=\"label\" class=\"form-item-label\">{{$t('contactus.tel')}}<span class=\"form-item-required\">*</span></p>\n\n                  <Input v-model=\"formTop.tel\" type=\"text\" :number=\"true\"></Input>\n                </FormItem>\n                <FormItem >\n                  <p name=\"label\" class=\"form-item-label\">{{$t('contactus.email')}}<span class=\"form-item-required\">*</span></p>\n\n                  <Input v-model=\"formTop.email\" type=\"email\"></Input>\n                </FormItem>\n                <FormItem >\n                  <p name=\"label\" class=\"form-item-label\">{{$t('contactus.other')}}</p>\n\n                  <Input v-model=\"formTop.othercall\" type=\"text\"></Input>\n                </FormItem>\n                <FormItem >\n                  <p name=\"label\" class=\"form-item-label\">{{$t('contactus.address')}}<span class=\"form-item-required\">*</span></p>\n                  <Input v-model=\"formTop.address\" type=\"text\"></Input>\n                </FormItem>\n                <FormItem >\n                  <p name=\"label\" class=\"form-item-label\">{{$t('contactus.programtitle')}}<span class=\"form-item-required\">*</span></p>\n                  <div class=\"form-check\">\n                    <CheckboxGroup  v-model=\"formTop.program\">\n                      <Checkbox :label=\"$t('contactus.program[0]')\"></Checkbox>\n                      <Checkbox :label=\"$t('contactus.program[1]')\"></Checkbox>\n                      <Checkbox :label=\"$t('contactus.program[2]')\"></Checkbox>\n                      <Checkbox :label=\"$t('contactus.program[3]')\"></Checkbox>\n                      <Checkbox :label=\"$t('contactus.program[4]')\"></Checkbox>\n                      <Checkbox :label=\"$t('contactus.program[5]')\"></Checkbox>\n                      <Checkbox :label=\"$t('contactus.program[6]')\"></Checkbox>\n                    </CheckboxGroup>\n                  </div>\n                </FormItem>\n                <FormItem >\n                  <p name=\"label\" class=\"form-item-label\">{{$t('contactus.msg')}}<span class=\"form-item-required\">*</span></p>\n                  <Input v-model=\"formTop.message\" type=\"textarea\" :rows=\"rows\" :autosize=\"false\"></Input>\n                </FormItem>\n                <FormItem >\n                  <Button  class=\"form-btn\" @click=\"submit\">{{$t('contactus.button_text')}}</Button>\n                </FormItem>\n              </Form>\n            </div>\n          </div>\n        </Container>\n        <footerlink></footerlink>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n    import { mapGetters } from 'vuex'\n    export default {\n        layout (context) {\n            return context.userAgent;\n        },\n        data(){\n            return {\n                rows:8,\n                style:{\n                    height:0,\n                },\n                formTop: {\n                  name: '',//姓名\n                  tel: '',//电话\n                  email: '',//邮箱\n                  othercall:'',//其他联系方式\n                  address:'',//公司地址\n                  program:[],//合适方案\n                  message:'',//留言\n                },\n                http:''\n            }\n        },\n        computed:{\n            ...mapGetters([\n                'getAgent'\n            ])\n        },\n        mounted(){\n            let hosttest=window.location.host=='www.katoong.com';\n            this.http = hosttest?'https://api.katoong.com':'https://api.testfordemo.com';\n            if(this.getAgent == 'mobile'){\n                window.location.href = '/'\n            }\n            this.style.height = document.documentElement.clientHeight + 'px';\n\n            let tt = document.documentElement.clientHeight;\n            window.addEventListener('scroll',function(){\n                var t = document.documentElement.scrollTop || document.body.scrollTop;\n                var top_div = document.getElementById( \"header\" );\n                if( t >= 80 ) {\n                    top_div.style.background = \"#27272E\";\n                } else {\n                    top_div.style.background = \"transparent\";\n                }\n            },false)\n        },\n        beforeDestroy(){\n            if (window.removeEventListener) {\n                window.removeEventListener(\"scroll\",this,false);\n            }\n        },\n        methods:{\n          getData(){\n            this.$jsonp(`${this.http}/OpenAPI/v1/Config/contactUs`,this.formTop)\n            .then( res => {\n              console.log(res)\n              if(res){\n                    if(res.code == 1){\n                        this.$Message.error(res.msg)\n                    }else{\n                        this.$Message.success(this.$t('contactus.prompt1'));\n                        this.formTop.name = '';\n                        this.formTop.email = '';\n                        this.formTop.tel = '';\n                        this.formTop.address = '';\n                        this.formTop.program = [];\n                        this.formTop.message = '';\n                        this.formTop.othercall = '';\n                    }\n              }else{\n                this.$Message.success(this.$t('contactus.prompt2'));\n              }\n            })\n          },\n          asyncData () {\n            return axios.get(`${this.http}/OpenAPI/v1/Config/contactUs`,{\n              params:this.formTop\n            })\n            .then((res) => {\n              console.log(res)\n            })\n          },\n          submit(){\n            if(!this.formTop.name || !this.formTop.tel || !this.formTop.email || !this.formTop.program || !this.formTop.address ||  !this.formTop.message){\n              this.$Message.error(this.$t('contactus.prompt3'))\n              return;\n            }\n            if(isNaN(this.formTop.tel)){\n                this.$Message.error(this.$t('contactus.prompt4'))\n                return;\n            }\n            let reg = /^(\\w-*\\.*)+@(\\w-?)+(\\.\\w{2,})+$/;\n            if(this.formTop.email && !reg.test(this.formTop.email)){\n              this.$Message.error(this.$t('contactus.prompt5'))\n              return;\n            }\n            this.getData();\n          },\n        }\n    }\n</script>\n\n<style  lang=\"scss\">\n .contactus{\n   width: 100%;\n   background: url(\"../../assets/images/contactus/lxwm_bj.png\") no-repeat center;\n   background-size:cover;\n   .contactus-content{\n     height: auto;\n     width: 100%;\n     padding-top: 120px;\n     padding-bottom: 40px;\n     .form-title{\n       color: $title-color;\n       font-size: $font-size-small*2;\n       text-align: center;\n       line-height: 30px;\n       padding: 25px 0;\n     }\n     .form-info{\n       color:$text-color-white;\n      font-size: $font-size-large;\n       line-height: 25px;\n       text-align: center;\n       margin-bottom: 25px;\n     }\n     .form{\n       width: 660px;\n       height: auto;\n       margin: 0 auto;\n       border-radius: 4px;\n       background: rgba(255,255,255,.3);\n       padding:50px;\n       .form-item-label{\n         color: $text-color-white;\n         font-size: $font-size-large;\n          .form-item-required{\n            color: red;\n            font-size: $font-size-large;\n            line-height: 20px;\n            display: inline-block;\n            vertical-align: middle;\n          }\n       }\n       .form-check{\n         display: flex;\n         width: 100%;\n         align-items: left;\n         justify-content: space-between;\n        .ivu-checkbox-group{\n          width: 100%;\n          span{\n            color:$text-color-white;\n\n          }\n          .ivu-checkbox-inner{\n            background-color: transparent;\n          }\n          .ivu-checkbox-wrapper{\n            margin-right: 100px;\n            width:180px;\n          }\n        }\n       }\n       .form-btn{\n         background-color: $active-background;\n         border-radius: 50px;\n         color: $text-color;\n         font-size: $font-size-large;\n\n         border-color: transparent;\n         min-width:150px ;\n       }\n     }\n   }\n }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// pages/contactus/index.vue"],"mappings":"AA+DA","sourceRoot":""}